define(["exports","./arrayRemoveDuplicates-18786327","./Matrix2-9aa31791","./when-4bbc8319","./ComponentDatatype-93750d1a","./PolylinePipeline-64021a2e"],function(e,i,t,a,o,r){"use strict";var n={},l=new t.Cartographic,s=new t.Cartographic,h=[,,],g=[,,],p={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};n.computePositions=function(e,n,u,c,d,m){var y=function(e,r,n,h){var g=(r=i.arrayRemoveDuplicates(r,t.Cartesian3.equalsEpsilon)).length;if(!(g<2)){var p=a.defined(h),u=a.defined(n),c=Array(g),d=Array(g),m=Array(g),y=r[0];c[0]=y;var P=e.cartesianToCartographic(y,l);u&&(P.height=n[0]),d[0]=P.height,m[0]=p?h[0]:0;for(var v=d[0]===m[0],f=1,C=1;C<g;++C){var A=r[C],b=e.cartesianToCartographic(A,s);u&&(b.height=n[C]),v=v&&0===b.height,o.CesiumMath.equalsEpsilon(P.latitude,b.latitude,o.CesiumMath.EPSILON10)&&o.CesiumMath.equalsEpsilon(P.longitude,b.longitude,o.CesiumMath.EPSILON10)?P.height<b.height&&(d[f-1]=b.height):(c[f]=A,d[f]=b.height,m[f]=p?h[C]:0,v=v&&d[f]===m[f],t.Cartographic.clone(b,P),++f)}if(!(v||f<2))return c.length=f,d.length=f,m.length=f,{positions:c,topHeights:d,bottomHeights:m}}}(e,n,u,c);if(a.defined(y)){n=y.positions,u=y.topHeights,c=y.bottomHeights;var P,v,f=n.length,C=o.CesiumMath.chordLength(d,e.maximumRadius);if(p.minDistance=C,p.ellipsoid=e,m){var A,b=0;for(A=0;A<f-1;A++)b+=r.PolylinePipeline.numberOfPoints(n[A],n[A+1],C)+1;P=new Float64Array(3*b),v=new Float64Array(3*b),p.positions=h,p.height=g;var w=0;for(A=0;A<f-1;A++){h[0]=n[A],h[1]=n[A+1],g[0]=u[A],g[1]=u[A+1];var M=r.PolylinePipeline.generateArc(p);P.set(M,w),g[0]=c[A],g[1]=c[A+1],v.set(r.PolylinePipeline.generateArc(p),w),w+=M.length}}else p.positions=n,p.height=u,P=new Float64Array(r.PolylinePipeline.generateArc(p)),p.height=c,v=new Float64Array(r.PolylinePipeline.generateArc(p));return{bottomPositions:v,topPositions:P,numCorners:f-2}}},e.WallGeometryLibrary=n});