define(["exports","./arrayRemoveDuplicates-0d8dde26","./Matrix3-b2351961","./defaultValue-f6d5e6da","./Math-355606c6","./PolylinePipeline-8df321dd"],function(e,t,i,o,n,l){"use strict";let r={},a=new i.Cartographic,s=new i.Cartographic,h=[,,],g=[,,],u={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};r.computePositions=function(e,r,d,p,c,m){let y,P;let f=function(e,l,r,h){let g=(l=t.arrayRemoveDuplicates(l,i.Cartesian3.equalsEpsilon)).length;if(g<2)return;let u=o.defined(h),d=o.defined(r),p=Array(g),c=Array(g),m=Array(g),y=l[0];p[0]=y;let P=e.cartesianToCartographic(y,a);d&&(P.height=r[0]),c[0]=P.height,m[0]=u?h[0]:0;let f=c[0]===m[0],C=1;for(let t=1;t<g;++t){let o=l[t],a=e.cartesianToCartographic(o,s);d&&(a.height=r[t]),f=f&&0===a.height,n.CesiumMath.equalsEpsilon(P.latitude,a.latitude,n.CesiumMath.EPSILON10)&&n.CesiumMath.equalsEpsilon(P.longitude,a.longitude,n.CesiumMath.EPSILON10)?P.height<a.height&&(c[C-1]=a.height):(p[C]=o,c[C]=a.height,m[C]=u?h[t]:0,f=f&&c[C]===m[C],i.Cartographic.clone(a,P),++C)}return f||C<2?void 0:(p.length=C,c.length=C,m.length=C,{positions:p,topHeights:c,bottomHeights:m})}(e,r,d,p);if(!o.defined(f))return;r=f.positions,d=f.topHeights,p=f.bottomHeights;let C=r.length,A=n.CesiumMath.chordLength(c,e.maximumRadius);if(u.minDistance=A,u.ellipsoid=e,m){let e,t=0;for(e=0;e<C-1;e++)t+=l.PolylinePipeline.numberOfPoints(r[e],r[e+1],A)+1;y=new Float64Array(3*t),P=new Float64Array(3*t),u.positions=h,u.height=g;let i=0;for(e=0;e<C-1;e++){h[0]=r[e],h[1]=r[e+1],g[0]=d[e],g[1]=d[e+1];let t=l.PolylinePipeline.generateArc(u);y.set(t,i),g[0]=p[e],g[1]=p[e+1],P.set(l.PolylinePipeline.generateArc(u),i),i+=t.length}}else u.positions=r,u.height=d,y=new Float64Array(l.PolylinePipeline.generateArc(u)),u.height=p,P=new Float64Array(l.PolylinePipeline.generateArc(u));return{bottomPositions:P,topPositions:y,numCorners:C-2}},e.WallGeometryLibrary=r});