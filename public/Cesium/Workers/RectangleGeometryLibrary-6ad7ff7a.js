define(["exports","./Matrix3-b2351961","./defaultValue-f6d5e6da","./Transforms-f17097e5","./Math-355606c6","./Matrix2-7a8e9daf"],function(t,n,a,e,r,o){"use strict";let s=Math.cos,i=Math.sin,l=Math.sqrt,g={computePosition:function(t,n,e,r,o,g,u){let h=n.radiiSquared,c=t.nwCorner,C=t.boundingRectangle,d=c.latitude-t.granYCos*r+o*t.granXSin,S=s(d),M=i(d),w=h.z*M,X=c.longitude+r*t.granYSin+o*t.granXCos,Y=S*s(X),f=S*i(X),m=h.x*Y,p=h.y*f,x=l(m*Y+p*f+w*M);if(g.x=m/x,g.y=p/x,g.z=w/x,e){let n=t.stNwCorner;a.defined(n)?(d=n.latitude-t.stGranYCos*r+o*t.stGranXSin,X=n.longitude+r*t.stGranYSin+o*t.stGranXCos,u.x=(X-t.stWest)*t.lonScalar,u.y=(d-t.stSouth)*t.latScalar):(u.x=(X-C.west)*t.lonScalar,u.y=(d-C.south)*t.latScalar)}}},u=new o.Matrix2,h=new n.Cartesian3,c=new n.Cartographic,C=new n.Cartesian3,d=new e.GeographicProjection;function S(t,a,e,r,s,i,l){let g=Math.cos(a),c=r*g,S=e*g,M=Math.sin(a),w=r*M,X=e*M;h=d.project(t,h),h=n.Cartesian3.subtract(h,C,h);let Y=o.Matrix2.fromRotation(a,u);h=o.Matrix2.multiplyByVector(Y,h,h),h=n.Cartesian3.add(h,C,h),i-=1,l-=1;let f=(t=d.unproject(h,t)).latitude,m=f+i*X,p=f-c*l,x=f-c*l+i*X,G=t.longitude,R=G+i*S,y=G+l*w,O=G+l*w+i*S;return{north:Math.max(f,m,p,x),south:Math.min(f,m,p,x),east:Math.max(G,R,y,O),west:Math.min(G,R,y,O),granYCos:c,granYSin:w,granXCos:S,granXSin:X,nwCorner:t}}g.computeOptions=function(t,n,a,e,s,i,l){let g,u=t.east,h=t.west,M=t.north,w=t.south,X=!1,Y=!1;M===r.CesiumMath.PI_OVER_TWO&&(X=!0),w===-r.CesiumMath.PI_OVER_TWO&&(Y=!0);let f=M-w;g=h>u?r.CesiumMath.TWO_PI-h+u:u-h;let m=Math.ceil(g/n)+1,p=Math.ceil(f/n)+1,x=g/(m-1),G=f/(p-1),R=o.Rectangle.northwest(t,i),y=o.Rectangle.center(t,c);0===a&&0===e||(y.longitude<R.longitude&&(y.longitude+=r.CesiumMath.TWO_PI),C=d.project(y,C));let O=o.Rectangle.clone(t,s),P={granYCos:G,granYSin:0,granXCos:x,granXSin:0,nwCorner:R,boundingRectangle:O,width:m,height:p,northCap:X,southCap:Y};if(0!==a){let t=S(R,a,x,G,0,m,p);M=t.north,w=t.south,u=t.east,h=t.west,P.granYCos=t.granYCos,P.granYSin=t.granYSin,P.granXCos=t.granXCos,P.granXSin=t.granXSin,O.north=M,O.south=w,O.east=u,O.west=h}if(0!==e){a-=e;let t=o.Rectangle.northwest(O,l),n=S(t,a,x,G,0,m,p);P.stGranYCos=n.granYCos,P.stGranXCos=n.granXCos,P.stGranYSin=n.granYSin,P.stGranXSin=n.granXSin,P.stNwCorner=t,P.stWest=n.west,P.stSouth=n.south}return P},t.RectangleGeometryLibrary=g});